<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  We Began to Forget: Demystifying Spring Framework ¬∑ My personal space
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Alex Simkin">
<meta name="description" content="We began to forget how to pass parameters to functions.
Before @Bean, before @Configuration or @PropertySource and certainly way before WebSecurityConfigurerAdapter
objects were responsible not only for their own behaviour, but also for creating everything they depended on.
public class OrderService {
    private final PaymentProcessor processor;
    public OrderService() {
        this.processor = new StripePaymentProcessor();
    }
}
This code works, but it also quietly locks many decisions inside the class, because OrderService now decides which
payment processor is used, how it is created, and when its lifecycle starts, and once this happens, changing that
decision means changing the code itself. Configuration and behaviour start to mix, breaking single responsibility
principle.">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="We Began to Forget: Demystifying Spring Framework">
  <meta name="twitter:description" content="We began to forget how to pass parameters to functions.
Before @Bean, before @Configuration or @PropertySource and certainly way before WebSecurityConfigurerAdapter objects were responsible not only for their own behaviour, but also for creating everything they depended on.
public class OrderService { private final PaymentProcessor processor; public OrderService() { this.processor = new StripePaymentProcessor(); } } This code works, but it also quietly locks many decisions inside the class, because OrderService now decides which payment processor is used, how it is created, and when its lifecycle starts, and once this happens, changing that decision means changing the code itself. Configuration and behaviour start to mix, breaking single responsibility principle.">

<meta property="og:url" content="https://SimY4.github.io/posts/007-we-began-to-forget-demystifying-spring-framework/">
  <meta property="og:site_name" content="My personal space">
  <meta property="og:title" content="We Began to Forget: Demystifying Spring Framework">
  <meta property="og:description" content="We began to forget how to pass parameters to functions.
Before @Bean, before @Configuration or @PropertySource and certainly way before WebSecurityConfigurerAdapter objects were responsible not only for their own behaviour, but also for creating everything they depended on.
public class OrderService { private final PaymentProcessor processor; public OrderService() { this.processor = new StripePaymentProcessor(); } } This code works, but it also quietly locks many decisions inside the class, because OrderService now decides which payment processor is used, how it is created, and when its lifecycle starts, and once this happens, changing that decision means changing the code itself. Configuration and behaviour start to mix, breaking single responsibility principle.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2026-01-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2026-01-15T00:00:00+00:00">
    <meta property="article:tag" content="Java">
    <meta property="article:tag" content="We-Began-to-Forget">




<link rel="canonical" href="https://SimY4.github.io/posts/007-we-began-to-forget-demystifying-spring-framework/">


<link rel="preload" href="https://SimY4.github.io/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://SimY4.github.io/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://SimY4.github.io/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="https://SimY4.github.io/css/coder.min.4b392a85107b91dbdabc528edf014a6ab1a30cd44cafcd5325c8efe796794fca.css" integrity="sha256-SzkqhRB7kdvavFKO3wFKarGjDNRMr81TJcjv55Z5T8o=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="https://SimY4.github.io/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="https://SimY4.github.io/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="https://SimY4.github.io/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://SimY4.github.io/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="https://SimY4.github.io/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://SimY4.github.io/images/apple-touch-icon.png">

<link rel="manifest" href="https://SimY4.github.io/site.webmanifest">
<link rel="mask-icon" href="https://SimY4.github.io/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://SimY4.github.io/">
      My personal space
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="https://SimY4.github.io/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="https://SimY4.github.io/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="https://SimY4.github.io/index.xml">RSS</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://SimY4.github.io/posts/007-we-began-to-forget-demystifying-spring-framework/">
              We Began to Forget: Demystifying Spring Framework
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2026-01-15T00:00:00Z">
                January 15, 2026
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              7-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="https://SimY4.github.io/categories/dev-blog/">Dev-Blog</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="https://SimY4.github.io/tags/java/">Java</a>
    </span>
      <span class="separator">‚Ä¢</span>
    <span class="tag">
      <a href="https://SimY4.github.io/tags/we-began-to-forget/">We-Began-to-Forget</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>We began to forget how to pass parameters to functions.</p>
<p>Before <code>@Bean</code>, before <code>@Configuration</code> or <code>@PropertySource</code> and certainly way before <code>WebSecurityConfigurerAdapter</code>
objects were responsible not only for their own behaviour, but also for creating everything they depended on.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">OrderService</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">final</span><span style="color:#bbb"> </span>PaymentProcessor<span style="color:#bbb"> </span>processor;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#06287e">OrderService</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#007020;font-weight:bold">this</span>.<span style="color:#4070a0">processor</span><span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">new</span><span style="color:#bbb"> </span>StripePaymentProcessor();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>This code works, but it also quietly locks many decisions inside the class, because <code>OrderService</code> now decides which
payment processor is used, how it is created, and when its lifecycle starts, and once this happens, changing that
decision means changing the code itself. Configuration and behaviour start to mix, breaking single responsibility
principle.</p>
<p>This is where the idea of inversion of control slowly appears.</p>
<h2 id="inversion-of-control">
  Inversion of Control
  <a class="heading-link" href="#inversion-of-control">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Inversion of control is simply the idea that a class should not decide how its dependencies are created, and instead
it should only describe what it needs in order to work.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">OrderService</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">final</span><span style="color:#bbb"> </span>PaymentProcessor<span style="color:#bbb"> </span>processor;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#06287e">OrderService</span>(PaymentProcessor<span style="color:#bbb"> </span>processor)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#007020;font-weight:bold">this</span>.<span style="color:#4070a0">processor</span><span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>processor;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>The simplest Spring context you can build today looks like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">var</span><span style="color:#bbb"> </span>context<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">new</span><span style="color:#bbb"> </span>GenericApplicationContext();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span>context.<span style="color:#4070a0">registerBean</span>(PaymentProcessor.<span style="color:#4070a0">class</span>,<span style="color:#bbb"> </span>StripePaymentProcessor::<span style="color:#007020;font-weight:bold">new</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span>context.<span style="color:#4070a0">registerBean</span>(OrderService.<span style="color:#4070a0">class</span>,<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>()<span style="color:#bbb"> </span><span style="color:#666">-&gt;</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">new</span><span style="color:#bbb"> </span>OrderService(context.<span style="color:#4070a0">getBean</span>(PaymentProcessor.<span style="color:#4070a0">class</span>)));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span>context.<span style="color:#4070a0">refresh</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">var</span><span style="color:#bbb"> </span>service<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>context.<span style="color:#4070a0">getBean</span>(OrderService.<span style="color:#4070a0">class</span>);<span style="color:#bbb">
</span></span></span></code></pre></div><p>This is the moment where a container enters the picture, and dependency injection becomes the practical way to apply
inversion of control.</p>
<figure><img src="https://SimY4.github.io/images/posts/its-time-for-some-awesome-stories.png"
    alt="Rule of Cool" width="400">
</figure>

<h2 id="declarative-era-when-xml-took-the-stage">
  Declarative Era: When XML Took the Stage
  <a class="heading-link" href="#declarative-era-when-xml-took-the-stage">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<details>
  <summary>Spring don&rsquo;t even&hellip;</summary>
  <p>Spring did not invent the idea of describing components in XML, because enterprise Java was already full of it.</p>
<p>Before Spring, J2EE and EJB used XML heavily, but those XML files were not only describing wiring, they were enforcing
a very strict container model.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#062873;font-weight:bold">&lt;ejb-jar&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#062873;font-weight:bold">&lt;enterprise-beans&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#062873;font-weight:bold">&lt;session&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#062873;font-weight:bold">&lt;ejb-name&gt;</span>OrderService<span style="color:#062873;font-weight:bold">&lt;/ejb-name&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#062873;font-weight:bold">&lt;ejb-class&gt;</span>com.example.OrderServiceBean<span style="color:#062873;font-weight:bold">&lt;/ejb-class&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#062873;font-weight:bold">&lt;session-type&gt;</span>Stateless<span style="color:#062873;font-weight:bold">&lt;/session-type&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#062873;font-weight:bold">&lt;/session&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#062873;font-weight:bold">&lt;/enterprise-beans&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#062873;font-weight:bold">&lt;/ejb-jar&gt;</span>
</span></span></code></pre></div><p>EJB at the time was forcing you into a worldview of application containers: JBoss, WebSphere, GlassFish, and others.
At that time there was a joke, which says that Java is a language that converts XML files into stack traces.</p>
<p>Spring offered you a library. It was about decoupling enterprise concerns from enterprise infrastructure. A breath of
fresh air, just plain objects wired by a container you controlled.</p>

</details>
<p>In the example above you explicitly declare:</p>
<ul>
<li>what beans exist</li>
<li>how they are constructed</li>
<li>how they depend on each other</li>
</ul>
<p>Spring is a boundary between <em>what your code does</em> and <em>how your code is assembled</em>. And yes, it feels verbose.
Verbosity invited abstraction and abstraction invited XML. Spring‚Äôs story began when object graphs were declared,
not coded:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#062873;font-weight:bold">&lt;beans&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#062873;font-weight:bold">&lt;bean</span> <span style="color:#4070a0">id=</span><span style="color:#4070a0">&#34;paymentProcessor&#34;</span> <span style="color:#4070a0">class=</span><span style="color:#4070a0">&#34;com.example.StripePaymentProcessor&#34;</span><span style="color:#062873;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#062873;font-weight:bold">&lt;bean</span> <span style="color:#4070a0">id=</span><span style="color:#4070a0">&#34;orderService&#34;</span> <span style="color:#4070a0">class=</span><span style="color:#4070a0">&#34;com.example.OrderService&#34;</span><span style="color:#062873;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#062873;font-weight:bold">&lt;constructor-arg</span> <span style="color:#4070a0">ref=</span><span style="color:#4070a0">&#34;paymentProcessor&#34;</span><span style="color:#062873;font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#062873;font-weight:bold">&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#062873;font-weight:bold">&lt;/beans&gt;</span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>var context = new ClassPathXmlApplicationContext(&#34;beans.xml&#34;);
</span></span><span style="display:flex;"><span>var service = context.getBean(OrderService.class);
</span></span></code></pre></div><p>Object wiring became declarative. But at the same time XML grew dense, IDE support lagged behind, refactoring was
fragile. But it worked and it was extremely popular.</p>
<details>
  <summary>XML was not the only option available</summary>
  <p>There were other attempts at declarative DSLs. Still supported but rarely mentioned: Groovy based bean definitions</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span>beans <span style="color:#666">{</span>
</span></span><span style="display:flex;"><span>    paymentProcessor<span style="color:#666">(</span>StripePaymentProcessor<span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>    orderService<span style="color:#666">(</span>OrderService<span style="color:#666">,</span> paymentProcessor<span style="color:#666">)</span>
</span></span><span style="display:flex;"><span><span style="color:#666">}</span>
</span></span><span style="display:flex;"><span><span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#902000">var</span> context <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> GenericGroovyApplicationContext<span style="color:#666">(</span><span style="color:#4070a0">&#34;beans.groovy&#34;</span><span style="color:#666">);</span>
</span></span></code></pre></div><p>works only if you have Groovy on your classpath. It never became mainstream.</p>

</details>
<h2 id="context-of-contexts">
  Context of Contexts
  <a class="heading-link" href="#context-of-contexts">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Not only beans form a graph, but contexts themselves can also form a graph. A Spring <code>ApplicationContext</code> is not always
alone, because it can have a parent, and together they form a hierarchy where visibility flows in one direction.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">var</span><span style="color:#bbb"> </span>parent<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">new</span><span style="color:#bbb"> </span>ClassPathXmlApplicationContext(<span style="color:#4070a0">&#34;parent-context.xml&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">var</span><span style="color:#bbb"> </span>child<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">new</span><span style="color:#bbb"> </span>ClassPathXmlApplicationContext(<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#007020;font-weight:bold">new</span><span style="color:#bbb"> </span>String<span style="color:#666">[]</span>{<span style="color:#4070a0">&#34;child-context.xml&#34;</span>},<span style="color:#bbb"> </span>parent);<span style="color:#bbb">
</span></span></span></code></pre></div><p>A child context can see all beans defined in its parent, and it can use them as dependencies as if they were local, but
the parent context cannot see anything defined in the child. This means that the dependency graph can be layered, and
resolution will always walk upward.</p>
<p>Parent and child contexts don‚Äôt have to share the same lifecycle. A child context can be shorter-lived, can be created
later, attached to an existing parent, used for some period of time, and then closed, without affecting the parent
context at all. When a child context is destroyed, only the beans defined in that child are destroyed. Beans in the
parent remain untouched and continue to exist.</p>
<p>This means that Spring allows part of the dependency graph to appear and disappear, while the rest stays stable. This
model allowed Spring applications to share infrastructure without forcing everything into one large flat configuration,
and it also made it possible to separate concerns cleanly between layers. But in modern era, when annotations took over,
layered contexts are rarely present.</p>
<h2 id="the-modern-era-configuration-as-code">
  The Modern Era: Configuration as Code
  <a class="heading-link" href="#the-modern-era-configuration-as-code">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Over time, XML started to feel heavy, and Spring slowly moved configuration back into Java code, using <code>@Configuration</code>
and <code>@Bean</code> methods.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#555;font-weight:bold">@Configuration</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">AppConfig</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#555;font-weight:bold">@Bean</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">public</span><span style="color:#bbb"> </span>PaymentProcessor<span style="color:#bbb"> </span><span style="color:#06287e">paymentProcessor</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#007020;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">new</span><span style="color:#bbb"> </span>StripePaymentProcessor();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#555;font-weight:bold">@Bean</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">public</span><span style="color:#bbb"> </span>OrderService<span style="color:#bbb"> </span><span style="color:#06287e">orderService</span>(PaymentProcessor<span style="color:#bbb"> </span>processor)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#007020;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">new</span><span style="color:#bbb"> </span>OrderService(processor);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span>...<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">var</span><span style="color:#bbb"> </span>context<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">new</span><span style="color:#bbb"> </span>AnnotationConfigApplicationContext(AppConfig.<span style="color:#4070a0">class</span>);<span style="color:#bbb">
</span></span></span></code></pre></div><p>This was more pleasant to write, easier to refactor, and felt closer to the language developers already knew, but it
also changed something important under the surface. With XML, Spring could see the entire dependency graph before
creating any objects, because everything was described as data. With Java methods, the graph became executable, and
Spring could no longer fully know what a bean was without touching the code.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#555;font-weight:bold">@Bean</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">public</span><span style="color:#bbb"> </span>PaymentProcessor<span style="color:#bbb"> </span><span style="color:#06287e">paymentProcessor</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">new</span><span style="color:#bbb"> </span>StripePaymentProcessor();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>The declared return type is <code>PaymentProcessor</code>. The actual runtime type is <code>StripePaymentProcessor</code>. Because Java
allows covariant return types, the declared return type of a <code>@Bean</code> method is not always the real type that will be
created, and sometimes the only way for Spring to know is to actually create the object.</p>
<p>Spring cannot answer simple questions like:</p>
<ul>
<li>‚ÄúWhat beans of type X exist?‚Äù</li>
<li>‚ÄúWhich implementations satisfy this injection point?‚Äù</li>
<li>‚ÄúIs this dependency ambiguous?‚Äù</li>
</ul>
<p>unless the method is invoked, side-effects triggered and object instantiation occurred. Spring worked around this with
üåà more engineering üåà : <code>@Configuration</code> classes are now enhanced with CGLIB, all methods are intercepted to avoid
double instantiation, optionally beans can also be CGLIB enhanced to provide laziness. But there‚Äôs an escape hatch for
all this overhead, if you don‚Äôt lie to spring and you can guarantee that your beans are resolvable purely based on
return type information available, you can eliminate the unwanted overhead with
<code>@Configuration(proxyBeanMethods = false)</code>.</p>
<h2 id="the-boot-era-when-it-got-real">
  The Boot Era: When *it Got Real
  <a class="heading-link" href="#the-boot-era-when-it-got-real">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Spring Boot arrived and changed the feeling of Spring more than any other step before it. With Boot, beans stopped being
mostly declared and started being discovered, because classpath scanning, starters, and auto-configuration began to
assemble the context implicitly.</p>
<p>Adding a dependency was no longer just adding code, it was also adding behaviour, because auto-configurations could
activate based on what classes were present, what properties were set, and what beans already existed. Conditional
configuration, ordering rules, and missing-bean checks made the container very flexible, but also much harder to fully
see. Understanding what your application context actually contains can now require reading auto-configuration classes
and mentally simulating condition evaluation.</p>
<p>The level of reflection involved skyrocketed to extremes never seen before. My favourite example of this level of
insanity in Spring is the <code>@ConditionalOnClass</code> annotation.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#555;font-weight:bold">@ConditionalOnClass</span>(DataSource.<span style="color:#4070a0">class</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">DataSourceAutoConfiguration</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>...<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>A natural question appears here, especially for people who think carefully about how Java works, which is how Spring
can evaluate <code>@ConditionalOnClass</code> when the class is not even present on the classpath? Normally, referring to a missing
class in Java would cause a <code>ClassNotFoundException</code>, or even fail at class loading time, but Spring must avoid this,
otherwise auto-configuration would break exactly in the cases where it is supposed to stay silent.</p>
<p>The trick is that Spring does not load the class in order to check its presence. Instead, Spring reads class metadata
without actually loading the class into the JVM, using bytecode inspection. When Spring processes auto-configuration
classes, it scans annotations using a metadata reader, which works directly on .class files as resources, and it checks
whether a type name exists on the classpath without resolving it. If the class file for <code>DataSource</code> is found, the
condition passes. If it is not found, the configuration is simply skipped, without an exception and without noise.
This means that Spring can safely ask the question ‚Äúdoes this class exist?‚Äù without ever touching the class itself.</p>
<h2 id="fin">
  Fin
  <a class="heading-link" href="#fin">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>From manual contexts, to XML, to annotations, to auto-configuration, the container became quieter, robust and more
confident, and we accepted that because it usually made our work faster.</p>
<p>But when something feels strange, or when a bean appears without being invited, or when order suddenly matters, it
helps to remember that Spring is still doing the same old thing. It is still building a dependency graph.</p>
<p>It just stopped showing it to us unless we really insist on looking.</p>

      </div>


      <footer>
        


        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "actinglikecrazy" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ¬©
    
      2019 -
    
    2026
     Alex Simkin 
    ¬∑
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="https://SimY4.github.io/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
